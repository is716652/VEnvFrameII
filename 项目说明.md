# VEnvFrameII - Pythonè™šæ‹Ÿç¯å¢ƒç®¡ç†æ¡†æ¶

## ğŸ“– é¡¹ç›®æ¦‚è¿°

**VEnvFrameII** æ˜¯ä¸€ä¸ªä¸“ä¸šçš„Pythonè™šæ‹Ÿç¯å¢ƒæ„å»ºå’Œç®¡ç†æ¡†æ¶ç³»ç»Ÿï¼Œæ—¨åœ¨ç®€åŒ–è™šæ‹Ÿç¯å¢ƒçš„åˆ›å»ºã€é…ç½®ä¸ç§»æ¤è¿‡ç¨‹ã€‚è¯¥æ¡†æ¶è§£å†³äº†è™šæ‹Ÿç¯å¢ƒè·¯å¾„é”™è¯¯ã€ä¾èµ–ç®¡ç†æ··ä¹±ã€ç¯å¢ƒç§»æ¤å›°éš¾ç­‰å¸¸è§é—®é¢˜ï¼Œä¸ºå¼€å‘å›¢é˜Ÿæä¾›ç»Ÿä¸€ã€ç¨³å®šçš„Pythonå¼€å‘ç¯å¢ƒã€‚

### ğŸ¯ ç›®æ ‡ç”¨æˆ·
- Pythonå¼€å‘äººå‘˜
- è¿ç»´å·¥ç¨‹å¸ˆ
- éœ€è¦ç®¡ç†å¤šä¸ªPythonç¯å¢ƒçš„å¼€å‘å›¢é˜Ÿ
- CI/CDç¯å¢ƒç»´æŠ¤äººå‘˜

### ğŸš€ æ ¸å¿ƒä»·å€¼
- **ç¯å¢ƒä¸€è‡´æ€§**ï¼šä¸¥æ ¼çš„Python 3.12.8ç‰ˆæœ¬æ§åˆ¶
- **è‡ªåŠ¨åŒ–ç®¡ç†**ï¼šä¸€é”®æ„å»ºã€æ¿€æ´»ã€ä¿®å¤è™šæ‹Ÿç¯å¢ƒ
- **è·¨æœºå™¨ç§»æ¤**ï¼šæ™ºèƒ½è·¯å¾„ä¿®å¤ï¼Œç¯å¢ƒæ— ç¼è¿ç§»
- **å¯è§†åŒ–ç›‘æ§**ï¼šWebç•Œé¢å®æ—¶ç›‘æ§ç¯å¢ƒçŠ¶æ€
- **å¤šæ•°æ®åº“æ”¯æŒ**ï¼šç»Ÿä¸€ç®¡ç†SQLiteã€Redisã€MySQL

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### ç›®å½•ç»“æ„
```
VEnvFrameII/
â”œâ”€â”€ DB/                          # æ•°æ®åº“ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ redis/                   # Redisç®¡ç†å™¨
â”‚   â”œâ”€â”€ sqlite/                  # SQLiteç®¡ç†å™¨
â”‚   â”œâ”€â”€ database_manager.py      # ç»Ÿä¸€æ•°æ®åº“ç®¡ç†å™¨
â”‚   â”œâ”€â”€ database_config.json     # æ•°æ®åº“é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ ...
â”œâ”€â”€ Monitor/                     # Webç›‘æ§ç•Œé¢
â”‚   â”œâ”€â”€ templates/               # HTMLæ¨¡æ¿
â”‚   â”œâ”€â”€ app.py                   # Flaskåº”ç”¨
â”‚   â””â”€â”€ config.json              # ç›‘æ§é…ç½®
â”œâ”€â”€ Tools/                       # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ fix_venv_path.py         # Pythonè·¯å¾„ä¿®å¤è„šæœ¬
â”‚   â”œâ”€â”€ fix_venv_path.ps1        # PowerShellç‰ˆæœ¬
â”‚   â””â”€â”€ fix_venv_path.bat        # æ‰¹å¤„ç†ç‰ˆæœ¬
â”œâ”€â”€ VEnvFrame-Env/               # è™šæ‹Ÿç¯å¢ƒç›®å½•
â”œâ”€â”€ æ–‡æ¡ˆ/                        # é¡¹ç›®æ–‡æ¡£å’Œå±•ç¤º
â”œâ”€â”€ build_env.bat                # ä¸€é”®æ„å»ºè„šæœ¬
â”œâ”€â”€ activate_env.bat             # ç¯å¢ƒæ¿€æ´»è„šæœ¬
â”œâ”€â”€ fix_venv_path.bat            # è·¯å¾„ä¿®å¤è„šæœ¬
â”œâ”€â”€ venv_config.ini              # ç¯å¢ƒé…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt             # ä¾èµ–åŒ…åˆ—è¡¨
â””â”€â”€ ...
```

### è®¾è®¡æ¨¡å¼
- **é…ç½®é©±åŠ¨è®¾è®¡**ï¼šé€šè¿‡é…ç½®æ–‡ä»¶å®ç°ç¯å¢ƒè§£è€¦
- **æ¨¡å—åŒ–æ¶æ„**ï¼šå„åŠŸèƒ½æ¨¡å—ç‹¬ç«‹ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
- **å·¥å‚æ¨¡å¼**ï¼šæ•°æ®åº“ç®¡ç†å™¨ä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºè¿æ¥å®ä¾‹

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### 1. ä¸€é”®è™šæ‹Ÿç¯å¢ƒæ„å»º
#### ç‰¹æ€§
- ä¸¥æ ¼è¦æ±‚Python 3.12.8ç‰ˆæœ¬
- æ™ºèƒ½æ£€æµ‹å’Œè‡ªåŠ¨å®‰è£…Python
- æ”¯æŒå¤šç§PyPIé•œåƒæºåŠ é€Ÿ
- è‡ªåŠ¨ç‰ˆæœ¬æ ¡éªŒå’Œç¯å¢ƒé‡å»º

#### ä½¿ç”¨æ–¹æ³•
```bash
# åŸºæœ¬æ„å»º
./build_env.bat

# æŒ‡å®šé•œåƒæº
./build_env.bat tsinghua
./build_env.bat aliyun
```

#### æ”¯æŒçš„é•œåƒæº
- `tsinghua` - æ¸…åå¤§å­¦é•œåƒ
- `aliyun` - é˜¿é‡Œäº‘é•œåƒ
- `douban` - è±†ç“£é•œåƒ
- `ustc` - ä¸­ç§‘å¤§é•œåƒ
- `default` - å®˜æ–¹æº

### 2. ç¯å¢ƒé…ç½®ç®¡ç†
#### é…ç½®æ–‡ä»¶ (`venv_config.ini`)
```ini
# Python 3.12.8 å®‰è£…ç›®å½•
PYTHON312_HOME=C:\Python312

# é¦–é€‰é•œåƒæº
MIRROR=tsinghua
```

#### ç¯å¢ƒæ¿€æ´»
```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
./activate_env.bat
```

æ¿€æ´»åè‡ªåŠ¨æ ¡éªŒï¼š
- Pythonç‰ˆæœ¬éªŒè¯
- ç¯å¢ƒè·¯å¾„æ£€æŸ¥
- å·²å®‰è£…åŒ…ç»Ÿè®¡
- è¯Šæ–­ä¿¡æ¯è¾“å‡º

### 3. æ™ºèƒ½è·¯å¾„ä¿®å¤
å½“é¡¹ç›®ç§»æ¤åˆ°æ–°æœºå™¨æ—¶ï¼Œä½¿ç”¨è·¯å¾„ä¿®å¤å·¥å…·ï¼š

```bash
# æ¨èæ–¹å¼
./fix_venv_path.bat

# æˆ–ä½¿ç”¨Pythonè„šæœ¬
python ./Tools/fix_venv_path.py
```

#### ä¿®å¤å†…å®¹
- `pyvenv.cfg` é…ç½®æ–‡ä»¶è·¯å¾„
- Scriptsç›®å½•ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶
- Bash activateè„šæœ¬è·¯å¾„
- CMD activate.batè·¯å¾„
- pipå¯åŠ¨å™¨é‡å»º

### 4. æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ
#### æ”¯æŒçš„æ•°æ®åº“
- **SQLite** - è½»é‡çº§æ–‡ä»¶æ•°æ®åº“
- **Redis** - å†…å­˜æ•°æ®åº“
- **MySQL** - å…³ç³»å‹æ•°æ®åº“

#### æ ¸å¿ƒç‰¹æ€§
```python
from DB.database_manager import DatabaseManager

# åˆ›å»ºæ•°æ®åº“ç®¡ç†å™¨
db_manager = DatabaseManager()

# è·å–å½“å‰æ•°æ®åº“è¿æ¥
conn = db_manager.get_connection()

# åˆ‡æ¢æ•°æ®åº“
db_manager.set_current_database('redis')

# æµ‹è¯•è¿æ¥
result = db_manager.test_connection()
```

### 5. Webç›‘æ§ç•Œé¢
#### åŠŸèƒ½ç‰¹æ€§
- å®æ—¶ç¯å¢ƒçŠ¶æ€ç›‘æ§
- Pythonä¿¡æ¯å±•ç¤º
- å·²å®‰è£…åŒ…åˆ—è¡¨ç®¡ç†
- æ•°æ®åº“çŠ¶æ€ç›‘æ§
- RESTful APIæ¥å£

#### å¯åŠ¨ç›‘æ§
```python
# å¯åŠ¨Webç›‘æ§ç•Œé¢
cd Monitor
python app.py
```

é»˜è®¤è®¿é—®åœ°å€ï¼š`http://localhost:88`

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæŠ€æœ¯
- **Python**: 3.12.8 (ä¸¥æ ¼ç‰ˆæœ¬è¦æ±‚)
- **Webæ¡†æ¶**: Flask 3.1.1, FastAPI 0.104.1
- **æ•°æ®åº“**: SQLite, Redis 3.5.3, MySQL (mysqlclient 2.2.7)

### å¼€å‘å·¥å…·
- **æµ‹è¯•æ¡†æ¶**: pytest, coverage, locust
- **å¼‚æ­¥æ”¯æŒ**: asyncio, uvicorn, gevent
- **æ•°æ®å¤„ç†**: pandas, numpy
- **è‡ªåŠ¨åŒ–æµ‹è¯•**: selenium
- **Windowsæ”¯æŒ**: pywin32

### å®Œæ•´ä¾èµ–åˆ—è¡¨
æŸ¥çœ‹ [`requirements.txt`](./requirements.txt) è·å–å®Œæ•´çš„ä¾èµ–åŒ…åˆ—è¡¨ã€‚

## ğŸ“‹ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡
ç¡®ä¿ç³»ç»Ÿå·²å®‰è£…Python 3.12.8ï¼ˆæ¨èï¼‰æˆ–å‡†å¤‡ä½¿ç”¨è‡ªåŠ¨å®‰è£…åŠŸèƒ½ã€‚

### 2. ä¸€é”®æ„å»º
```bash
# å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®
cd VEnvFrameII

# ä¸€é”®æ„å»ºè™šæ‹Ÿç¯å¢ƒ
./build_env.bat tsinghua
```

### 3. æ¿€æ´»ç¯å¢ƒ
```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
./activate_env.bat
```

### 4. éªŒè¯å®‰è£…
```bash
# æ£€æŸ¥Pythonç‰ˆæœ¬
python --version

# æŸ¥çœ‹å·²å®‰è£…åŒ…
pip list

# æµ‹è¯•æ•°æ®åº“è¿æ¥
python DB/database_example.py
```

### 5. å¯åŠ¨ç›‘æ§
```bash
# å¯åŠ¨Webç›‘æ§ç•Œé¢
cd Monitor
python app.py
```

## ğŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰Pythonè·¯å¾„
ç¼–è¾‘ `venv_config.ini`ï¼š
```ini
PYTHON312_HOME=D:\Python\Python312
MIRROR=tsinghua
```

### æ•°æ®åº“é…ç½®
ç¼–è¾‘ `DB/database_config.json`ï¼š
```json
{
  "current_database": "sqlite",
  "databases": {
    "sqlite": {
      "type": "sqlite",
      "name": "SQLiteæ•°æ®åº“",
      "enabled": true,
      "config": {
        "database_path": "./data/app.db"
      }
    }
  }
}
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### Windowsç¯å¢ƒéƒ¨ç½²
1. å¤åˆ¶æ•´ä¸ªé¡¹ç›®ç›®å½•åˆ°ç›®æ ‡æœºå™¨
2. è¿è¡Œ `./fix_venv_path.bat` ä¿®å¤è·¯å¾„
3. è¿è¡Œ `./build_env.bat` è¡¥å…¨ä¾èµ–
4. è¿è¡Œ `./activate_env.bat` éªŒè¯ç¯å¢ƒ

### å›¢é˜Ÿåä½œ
1. å°† `VEnvFrame-Env/` æ·»åŠ åˆ° `.gitignore`
2. ç¡®ä¿å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ç›¸åŒçš„Pythonç‰ˆæœ¬
3. ç»Ÿä¸€ä½¿ç”¨é¡¹ç›®æä¾›çš„æ„å»ºè„šæœ¬
4. å®šæœŸåŒæ­¥ `requirements.txt`

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### Pythonç‰ˆæœ¬ä¸åŒ¹é…
```bash
# é—®é¢˜ï¼šè™šæ‹Ÿç¯å¢ƒPythonç‰ˆæœ¬ä¸æ˜¯3.12.8
# è§£å†³ï¼šé‡å»ºè™šæ‹Ÿç¯å¢ƒ
./build_env.bat
```

#### è·¯å¾„é”™è¯¯
```bash
# é—®é¢˜ï¼šç§»æ¤åè™šæ‹Ÿç¯å¢ƒæ— æ³•æ¿€æ´»
# è§£å†³ï¼šè¿è¡Œè·¯å¾„ä¿®å¤å·¥å…·
./fix_venv_path.bat
```

#### ä¾èµ–å®‰è£…å¤±è´¥
```bash
# é—®é¢˜ï¼špipå®‰è£…è¶…æ—¶æˆ–å¤±è´¥
# è§£å†³ï¼šä½¿ç”¨å›½å†…é•œåƒæº
./build_env.bat tsinghua
```

#### ç›‘æ§ç•Œé¢æ— æ³•è®¿é—®
```bash
# é—®é¢˜ï¼šWebç•Œé¢å¯åŠ¨å¤±è´¥
# è§£å†³ï¼šæ£€æŸ¥ç«¯å£å ç”¨ï¼Œä¿®æ”¹Monitor/config.json
```

## ğŸ“š APIæ–‡æ¡£

### ç›‘æ§APIæ¥å£

#### è·å–ç³»ç»Ÿä¿¡æ¯
```
GET /api/system/info
```

å“åº”ç¤ºä¾‹ï¼š
```json
{
  "status": "success",
  "data": {
    "python": {
      "version": "3.12.8",
      "executable": "D:\\VEnvFrameII\\VEnvFrame-Env\\Scripts\\python.exe"
    },
    "venv": {
      "name": "VEnvFrame-Env",
      "active": true,
      "exists": true
    },
    "packages": {
      "count": 45,
      "packages": [...]
    }
  }
}
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®
1. Forké¡¹ç›®ä»“åº“
2. è¿è¡Œ `./build_env.bat` æ„å»ºå¼€å‘ç¯å¢ƒ
3. è¿è¡Œ `./activate_env.bat` æ¿€æ´»ç¯å¢ƒ
4. å®‰è£…å¼€å‘ä¾èµ–ï¼š`pip install -r requirements.txt`

### ä»£ç è§„èŒƒ
- éµå¾ªPEP 8 Pythonä»£ç è§„èŒƒ
- ä½¿ç”¨ç±»å‹æ³¨è§£
- ç¼–å†™å•å…ƒæµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

### æµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œè¦†ç›–ç‡æµ‹è¯•
coverage run -m pytest
coverage report
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨å¼€æºè®¸å¯è¯ï¼Œå…·ä½“è®¸å¯æ¡æ¬¾è¯·æŸ¥çœ‹é¡¹ç›®æ ¹ç›®å½•çš„LICENSEæ–‡ä»¶ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [Pythonå®˜æ–¹ç½‘ç«™](https://www.python.org/)
- [Flaskæ–‡æ¡£](https://flask.palletsprojects.com/)
- [Redisæ–‡æ¡£](https://redis.io/documentation)

## ğŸ“ æ”¯æŒä¸åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤Issueåˆ°é¡¹ç›®ä»“åº“
- å‘é€é‚®ä»¶è‡³é¡¹ç›®ç»´æŠ¤è€…
- å‚ä¸é¡¹ç›®è®¨è®ºåŒºäº¤æµ

---

**VEnvFrameII** - è®©Pythonç¯å¢ƒç®¡ç†å˜å¾—ç®€å•é«˜æ•ˆï¼